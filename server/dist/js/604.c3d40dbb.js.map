{"version":3,"file":"js/604.c3d40dbb.js","mappings":"sXAuBA,MAAMA,GAAaC,EAAAA,EAAAA,KAIbC,IADQC,EAAAA,EAAAA,OACCC,EAAAA,EAAAA,QAGFC,EAAAA,EAAAA,KAAI,GAAjB,IACIC,GAAUD,EAAAA,EAAAA,KAAI,GACdE,GAAaF,EAAAA,EAAAA,KAAI,GAEjBG,IADcH,EAAAA,EAAAA,SAAII,IACJJ,EAAAA,EAAAA,KAAI,IAElBK,GAAaC,EAAAA,EAAAA,IAAS,CACtBC,MAAO,KAGPC,GAAiBF,EAAAA,EAAAA,IAAS,CAC1BG,UAAW,KAyBf,SAASC,IAEL,IAAIC,EAAU,uEAEd,GAAyB,KAArBN,EAAWE,MAEZC,EAAeC,UAAY,wBAEvB,KAAuC,IAAnCE,EAAQC,KAAKP,EAAWE,OAQhC,OAFAC,EAAeC,UAAY,IAEpB,EANPD,EAAeC,UAAY,eAQ9B,CACJ,CAEAI,eAAeC,IACf,GAAIJ,IAAkB,CAClBR,EAAWa,OAAQ,EACnBd,EAAQc,OAAQ,EAChB,MAAMC,QAAiBC,EAAAA,EAAIC,sBAAsBb,GAEjD,OAAQW,EAASG,SAEb,IAAK,YACLhB,EAAYY,MAAQC,EAASG,QAC7BjB,EAAWa,OAAQ,EACnBd,EAAQc,OAAQ,EAChB,MAEA,IAAK,4BACLZ,EAAYY,MAAQC,EAASG,QAC7BjB,EAAWa,OAAQ,EACnBd,EAAQc,OAAQ,EAChB,MAEA,IAAK,gBACLZ,EAAYY,MAAQC,EAASG,QAC7BjB,EAAWa,OAAQ,EACnBd,EAAQc,OAAQ,EAChB,MAIN,CACF,C,OArEIpB,EAAWyB,iBAEXvB,EAAOwB,KAAK,CAAEC,KAAM,UAQxBC,EAAAA,EAAAA,KAAU,KAEPb,GAAgB,I,mjCCrDnB,MAAMc,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://client/./src/views/Forgot-Password.vue","webpack://client/./src/views/Forgot-Password.vue?a4df"],"sourcesContent":["<template>\r\n  <div class=\"forgot_pass_form\" >\r\n  <h1>Forgot Password</h1>\r\n  <p>Enter your email and we'll send you a link to reset your password.</p>\r\n\r\n  <div class=\"validation_msg\" v-if = \"backend_err\" :style = \"backend_err ===  'mail sent' ? {'background-color': 'green', 'border': '1px solid green'} : {'background-color': '#b93c3c', 'border': '1px solid #b93c3c'}\">\r\n  <p id=\"validation_msg\">{{backend_err}}</p>\r\n  </div>\r\n  <form>\r\n    <input type=\"email\" v-model = \"formvalues.email\" name=\"email\" id=\"email\" placeholder=\"Email\">\r\n    <small class=\"err\">{{formvalues_err.email_err}}</small>\r\n    <button type=\"submit\" @click.prevent = \"SendMail\" id=\"loginbtn\" :disabled = \"disablebtn\"><font-awesome-icon v-if = \"spinner\"  class=\"fa-solid fa-spinner fa-spin\" id = \"spinner\" icon=\"fa-solid fa-spinner\"/> Next</button>\r\n    </form>\r\n    </div>\r\n</template>\r\n  \r\n<script setup>\r\nimport API from '../api';\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport { onMounted, onUnmounted, onUpdated, reactive, toRaw, ref, watch, nextTick } from 'vue'\r\nimport MIDDLEWARES from \"../middlewares/middlewares\"\r\nimport { useUserStore } from '@/stores/user'\r\n\r\nconst user_store = useUserStore()\r\n\r\n\r\nconst route = useRoute()\r\nconst router = useRouter()\r\n \r\n\r\nlet toggle = ref(false)\r\nlet spinner = ref(false)\r\nlet disablebtn = ref(false)\r\nlet screenwidth = ref(undefined)\r\nlet backend_err = ref(false)\r\n\r\nlet formvalues = reactive({\r\n    email: \"\"\r\n})\r\n\r\nlet formvalues_err = reactive({\r\n    email_err: \"\"\r\n})\r\n\r\n\r\n\r\n\r\nif (user_store.isAuthenticated) { //if user no get session redirect to login\r\n\r\n    router.push({ name: \"home\" })\r\n\r\n}\r\n\r\n\r\n\r\n/* hook */\r\n\r\nonUpdated(() => {\r\n\r\n   emailvalidated()\r\n\r\n})\r\n\r\n/* hook */\r\n\r\n \r\nfunction emailvalidated() {\r\n\r\n    let pattern = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\r\n    \r\n    if (formvalues.email === \"\") {\r\n    \r\n       formvalues_err.email_err = \"Please fill field\";\r\n    \r\n    } else if (pattern.test(formvalues.email) === false) {\r\n    \r\n       formvalues_err.email_err = \"Invalid email\"\r\n    \r\n    } else {\r\n        \r\n       formvalues_err.email_err = \"\"\r\n        \r\n       return true;\r\n    \r\n    }\r\n}\r\n                \r\nasync function SendMail() {\r\nif (emailvalidated()) {\r\n    disablebtn.value = true;\r\n    spinner.value = true;\r\n    const response = await API.send_reset_pass_email(formvalues);\r\n\r\n    switch (response.message) {\r\n\r\n        case \"mail sent\":\r\n        backend_err.value = response.message\r\n        disablebtn.value = false\r\n        spinner.value = false\r\n        break;\r\n\r\n        case \"We cannot find your email\":\r\n        backend_err.value = response.message\r\n        disablebtn.value = false\r\n        spinner.value = false\r\n        break;\r\n\r\n        case \"error occured\":\r\n        backend_err.value = response.message\r\n        disablebtn.value = false\r\n        spinner.value = false\r\n        break;\r\n        \r\n    }  \r\n\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n@media only screen and (min-width: 612px) {\r\n    div#body {\r\n        font-family: 'Roboto Slab';\r\n    }\r\n\r\n    div.forgot_pass_form {\r\n        margin: 100px auto 80px auto;\r\n        width: 400px;\r\n        background-color: #fff;\r\n        border-radius: 7px;\r\n        padding: 16px;\r\n        text-align: center;\r\n        box-shadow: 0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)\r\n    }\r\n\r\n    div.forgot_pass_form h1 {\r\n        font-size: 18px\r\n    }\r\n\r\n    div.forgot_pass_form p {\r\n        font-size: 16px;\r\n        color: #575555\r\n    }\r\n\r\n    div.validation_msg {\r\n        display: block;\r\n        box-sizing: border-box;\r\n        width: 200px;\r\n        margin: auto;\r\n        padding: 3px;\r\n        color: #fff;\r\n        font-weight: 700;\r\n        background-color: #b93c3c;\r\n        border: 1px solid #d64545;\r\n        border-radius: 3px\r\n    }\r\n\r\n    p#validation_msg {\r\n        transition: 1s;\r\n        font-size: 12px;\r\n        color: #fff;\r\n        margin: 0\r\n    }\r\n\r\n    div.forgot_pass_form input {\r\n        border-radius: 7px;\r\n        border: 1px solid rgba(105,127,128,.884);\r\n        padding: 6px 4px;\r\n        display: block;\r\n        margin: 16px auto 0 auto;\r\n        width: 95%;\r\n        box-sizing: border-box;\r\n        font-size: 15px;\r\n        font-family: Cambria,Cochin,Georgia,Times,Times New Roman,serif\r\n    }\r\n\r\n    #spinner {\r\n        color: gray\r\n    }\r\n\r\n    div.forgot_pass_form button[type=submit] {\r\n        background-color: rgb(70, 165, 70);\r\n        color: #fff;\r\n        border-radius: 7px;\r\n        border: 1px solid rgba(105,127,128,.884);\r\n        padding: 6px 4px;\r\n        display: block;\r\n        margin: 16px auto 17px auto;\r\n        width: 95%;\r\n        box-sizing: border-box;\r\n        font-size: 14px;\r\n        font-family: Cambria,Cochin,Georgia,Times,Times New Roman,serif\r\n    }\r\n\r\n    div.forgot_pass_form input:hover {\r\n        border: 1px solid rgba(10,142,146,.884);\r\n        cursor: pointer\r\n    }\r\n\r\n    div.forgot_pass_form input:focus {\r\n        outline: 1px solid rgba(10,142,146,.884)\r\n    }\r\n\r\n    div.forgot_pass_form button[type=submit]:hover {\r\n        opacity: .9;\r\n        border: 1px solid rgb(70, 165, 70);\r\n        cursor: pointer\r\n    }\r\n\r\n    div.forgot_pass_form button[type=submit]:disabled {\r\n        cursor: none;\r\n        opacity: .4\r\n    }\r\n\r\n    div.forgot_pass_form a {\r\n        color: rgba(10,142,146,.884);\r\n        font-size: 13px\r\n    }\r\n\r\n    div.forgot_pass_form #dont_h_acct {\r\n        font-size: 13px;\r\n        text-align: center\r\n    }\r\n\r\n    small {\r\n        color: red;\r\n        margin: 2px 0 0 0;\r\n        font-size: 11px\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 612px) {\r\n    div#body {\r\n        font-family:Open Sans,Gotham,gotham,Tahoma,Geneva,sans-serif\r\n    }\r\n\r\n    div.forgot_pass_form {\r\n        margin: 100px auto 80px auto;\r\n        width: 80%;\r\n        background-color: #fff;\r\n        border-radius: 7px;\r\n        padding: 16px;\r\n        text-align: center;\r\n        box-shadow: 0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)\r\n    }\r\n\r\n    div.forgot_pass_form h1 {\r\n        font-size: 17px\r\n    }\r\n\r\n    div.forgot_pass_form p {\r\n        font-size: 15px;\r\n        color: #575555\r\n    }\r\n\r\n    div.validation_msg {\r\n        display: block;\r\n        box-sizing: border-box;\r\n        width: 70%;\r\n        margin: auto;\r\n        padding: 3px;\r\n        color: #fff;\r\n        font-weight: 700;\r\n        background-color: #b93c3c;\r\n        border: 1px solid #d64545;\r\n        border-radius: 3px\r\n    }\r\n\r\n    p#validation_msg {\r\n        transition: 1s;\r\n        font-size: 14px;\r\n        color: #fff;\r\n        margin: 0\r\n    }\r\n\r\n    div.forgot_pass_form input {\r\n        border-radius: 7px;\r\n        border: 1px solid rgba(105,127,128,.884);\r\n        padding: 6px 4px;\r\n        display: block;\r\n        margin: 16px auto 0 auto;\r\n        width: 95%;\r\n        box-sizing: border-box;\r\n        font-size: 15px;\r\n        font-family: Cambria,Cochin,Georgia,Times,Times New Roman,serif\r\n    }\r\n\r\n    #spinner {\r\n        color: gray\r\n    }\r\n\r\n    div.forgot_pass_form button[type=submit] {\r\n        background-color: rgb(70, 165, 70);\r\n        color: #fff;\r\n        border-radius: 7px;\r\n        border: 1px solid rgba(105,127,128,.884);\r\n        padding: 6px 4px;\r\n        display: block;\r\n        margin: 16px auto 17px auto;\r\n        width: 95%;\r\n        box-sizing: border-box;\r\n        font-size: 14px;\r\n        font-family: Cambria,Cochin,Georgia,Times,Times New Roman,serif\r\n    }\r\n\r\n    div.forgot_pass_form input:hover {\r\n        border: 1px solid rgba(10,142,146,.884);\r\n        cursor: pointer\r\n    }\r\n\r\n    div.forgot_pass_form input:focus {\r\n        outline: 1px solid rgba(10,142,146,.884)\r\n    }\r\n\r\n    div.forgot_pass_form button[type=submit]:hover {\r\n        opacity: .9;\r\n        border: 1px solid rgb(70, 165, 70);\r\n        cursor: pointer\r\n    }\r\n\r\n    div.forgot_pass_form button[type=submit]:disabled {\r\n        cursor: none;\r\n        opacity: .4\r\n    }\r\n\r\n    div.forgot_pass_form a {\r\n        color: rgba(10,142,146,.884);\r\n        font-size: 13px\r\n    }\r\n\r\n    div.forgot_pass_form #dont_h_acct {\r\n        font-size: 13px;\r\n        text-align: center\r\n    }\r\n\r\n    small {\r\n        color: red;\r\n        margin: 2px 0 0 0;\r\n        font-size: 11px\r\n    }\r\n}\r\n</style>","import script from \"./Forgot-Password.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Forgot-Password.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Forgot-Password.vue?vue&type=style&index=0&id=14afff5c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-14afff5c\"]])\n\nexport default __exports__"],"names":["user_store","useUserStore","router","useRoute","useRouter","ref","spinner","disablebtn","backend_err","undefined","formvalues","reactive","email","formvalues_err","email_err","emailvalidated","pattern","test","async","SendMail","value","response","API","send_reset_pass_email","message","isAuthenticated","push","name","onUpdated","__exports__"],"sourceRoot":""}